{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _domUtils = require('./domUtils');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar cx = function cx() {\n  for (var _len = arguments.length, classnames = Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.join(' ').trim();\n};\n\nvar ResultList = function () {\n  function ResultList() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$handleClick = _ref.handleClick,\n        handleClick = _ref$handleClick === undefined ? function () {} : _ref$handleClick,\n        _ref$classNames = _ref.classNames,\n        classNames = _ref$classNames === undefined ? {} : _ref$classNames;\n\n    _classCallCheck(this, ResultList);\n\n    _initialiseProps.call(this);\n\n    this.props = {\n      handleClick: handleClick,\n      classNames: classNames\n    };\n    this.selected = -1;\n    var container = (0, _domUtils.createElement)('div', cx('results', classNames.container));\n    var resultItem = (0, _domUtils.createElement)('div', cx(classNames.item));\n    container.addEventListener('click', this.onClick, true);\n    this.elements = {\n      container: container,\n      resultItem: resultItem\n    };\n  }\n\n  _createClass(ResultList, [{\n    key: 'render',\n    value: function render() {\n      var results = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var _elements = this.elements,\n          container = _elements.container,\n          resultItem = _elements.resultItem;\n      this.clear();\n      results.forEach(function (result, idx) {\n        var child = resultItem.cloneNode(true);\n        child.setAttribute('data-key', idx);\n        child.innerHTML = result.label;\n        container.appendChild(child);\n      });\n\n      if (results.length > 0) {\n        (0, _domUtils.addClassName)(container, 'active');\n      }\n\n      this.results = results;\n    }\n  }, {\n    key: 'select',\n    value: function select(index) {\n      var container = this.elements.container; // eslint-disable-next-line no-confusing-arrow\n\n      Array.from(container.children).forEach(function (child, idx) {\n        return idx === index ? (0, _domUtils.addClassName)(child, 'active') : (0, _domUtils.removeClassName)(child, 'active');\n      });\n      this.selected = index;\n      return this.results[index];\n    }\n  }, {\n    key: 'count',\n    value: function count() {\n      return this.results ? this.results.length : 0;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var container = this.elements.container;\n      this.selected = -1;\n\n      while (container.lastChild) {\n        container.removeChild(container.lastChild);\n      }\n\n      (0, _domUtils.removeClassName)(container, 'active');\n    }\n  }]);\n\n  return ResultList;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.onClick = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref2.target;\n\n    var handleClick = _this.props.handleClick;\n    var container = _this.elements.container;\n\n    if (target.parentNode !== container || !target.hasAttribute('data-key')) {\n      return;\n    }\n\n    var idx = target.getAttribute('data-key');\n    var result = _this.results[idx];\n    handleClick({\n      result: result\n    });\n  };\n};\n\nexports.default = ResultList;","map":{"version":3,"sources":["/home/thomas/Map-interactive/node_modules/leaflet-geosearch/lib/resultList.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_domUtils","require","_classCallCheck","instance","TypeError","cx","_len","arguments","classnames","Array","_key","join","trim","ResultList","_ref","undefined","_ref$handleClick","handleClick","_ref$classNames","classNames","_initialiseProps","call","selected","container","createElement","resultItem","item","addEventListener","onClick","elements","render","results","_elements","clear","forEach","result","idx","child","cloneNode","setAttribute","innerHTML","label","appendChild","addClassName","select","index","from","children","removeClassName","count","lastChild","removeChild","_this","_ref2","parentNode","hasAttribute","getAttribute","default"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4Bb,MAAAA,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCP,WAAnC,EAAgD;AAAE,MAAI,EAAEO,QAAQ,YAAYP,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIQ,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIC,EAAE,GAAG,SAASA,EAAT,GAAc;AACrB,OAAK,IAAIC,IAAI,GAAGC,SAAS,CAACjB,MAArB,EAA6BkB,UAAU,GAAGC,KAAK,CAACH,IAAD,CAA/C,EAAuDI,IAAI,GAAG,CAAnE,EAAsEA,IAAI,GAAGJ,IAA7E,EAAmFI,IAAI,EAAvF,EAA2F;AACzFF,IAAAA,UAAU,CAACE,IAAD,CAAV,GAAmBH,SAAS,CAACG,IAAD,CAA5B;AACD;;AAED,SAAOF,UAAU,CAACG,IAAX,CAAgB,GAAhB,EAAqBC,IAArB,EAAP;AACD,CAND;;AAQA,IAAIC,UAAU,GAAG,YAAY;AAC3B,WAASA,UAAT,GAAsB;AACpB,QAAIC,IAAI,GAAGP,SAAS,CAACjB,MAAV,GAAmB,CAAnB,IAAwBiB,SAAS,CAAC,CAAD,CAAT,KAAiBQ,SAAzC,GAAqDR,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAAA,QACIS,gBAAgB,GAAGF,IAAI,CAACG,WAD5B;AAAA,QAEIA,WAAW,GAAGD,gBAAgB,KAAKD,SAArB,GAAiC,YAAY,CAAE,CAA/C,GAAkDC,gBAFpE;AAAA,QAGIE,eAAe,GAAGJ,IAAI,CAACK,UAH3B;AAAA,QAIIA,UAAU,GAAGD,eAAe,KAAKH,SAApB,GAAgC,EAAhC,GAAqCG,eAJtD;;AAMAhB,IAAAA,eAAe,CAAC,IAAD,EAAOW,UAAP,CAAf;;AAEAO,IAAAA,gBAAgB,CAACC,IAAjB,CAAsB,IAAtB;;AAEA,SAAKjC,KAAL,GAAa;AAAE6B,MAAAA,WAAW,EAAEA,WAAf;AAA4BE,MAAAA,UAAU,EAAEA;AAAxC,KAAb;AACA,SAAKG,QAAL,GAAgB,CAAC,CAAjB;AAEA,QAAIC,SAAS,GAAG,CAAC,GAAGvB,SAAS,CAACwB,aAAd,EAA6B,KAA7B,EAAoCnB,EAAE,CAAC,SAAD,EAAYc,UAAU,CAACI,SAAvB,CAAtC,CAAhB;AACA,QAAIE,UAAU,GAAG,CAAC,GAAGzB,SAAS,CAACwB,aAAd,EAA6B,KAA7B,EAAoCnB,EAAE,CAACc,UAAU,CAACO,IAAZ,CAAtC,CAAjB;AAEAH,IAAAA,SAAS,CAACI,gBAAV,CAA2B,OAA3B,EAAoC,KAAKC,OAAzC,EAAkD,IAAlD;AACA,SAAKC,QAAL,GAAgB;AAAEN,MAAAA,SAAS,EAAEA,SAAb;AAAwBE,MAAAA,UAAU,EAAEA;AAApC,KAAhB;AACD;;AAEDxC,EAAAA,YAAY,CAAC4B,UAAD,EAAa,CAAC;AACxBlB,IAAAA,GAAG,EAAE,QADmB;AAExBX,IAAAA,KAAK,EAAE,SAAS8C,MAAT,GAAkB;AACvB,UAAIC,OAAO,GAAGxB,SAAS,CAACjB,MAAV,GAAmB,CAAnB,IAAwBiB,SAAS,CAAC,CAAD,CAAT,KAAiBQ,SAAzC,GAAqDR,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,UAAIyB,SAAS,GAAG,KAAKH,QAArB;AAAA,UACIN,SAAS,GAAGS,SAAS,CAACT,SAD1B;AAAA,UAEIE,UAAU,GAAGO,SAAS,CAACP,UAF3B;AAIA,WAAKQ,KAAL;AAEAF,MAAAA,OAAO,CAACG,OAAR,CAAgB,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AACrC,YAAIC,KAAK,GAAGZ,UAAU,CAACa,SAAX,CAAqB,IAArB,CAAZ;AACAD,QAAAA,KAAK,CAACE,YAAN,CAAmB,UAAnB,EAA+BH,GAA/B;AACAC,QAAAA,KAAK,CAACG,SAAN,GAAkBL,MAAM,CAACM,KAAzB;AACAlB,QAAAA,SAAS,CAACmB,WAAV,CAAsBL,KAAtB;AACD,OALD;;AAOA,UAAIN,OAAO,CAACzC,MAAR,GAAiB,CAArB,EAAwB;AACtB,SAAC,GAAGU,SAAS,CAAC2C,YAAd,EAA4BpB,SAA5B,EAAuC,QAAvC;AACD;;AAED,WAAKQ,OAAL,GAAeA,OAAf;AACD;AAtBuB,GAAD,EAuBtB;AACDpC,IAAAA,GAAG,EAAE,QADJ;AAEDX,IAAAA,KAAK,EAAE,SAAS4D,MAAT,CAAgBC,KAAhB,EAAuB;AAC5B,UAAItB,SAAS,GAAG,KAAKM,QAAL,CAAcN,SAA9B,CAD4B,CAG5B;;AAEAd,MAAAA,KAAK,CAACqC,IAAN,CAAWvB,SAAS,CAACwB,QAArB,EAA+Bb,OAA/B,CAAuC,UAAUG,KAAV,EAAiBD,GAAjB,EAAsB;AAC3D,eAAOA,GAAG,KAAKS,KAAR,GAAgB,CAAC,GAAG7C,SAAS,CAAC2C,YAAd,EAA4BN,KAA5B,EAAmC,QAAnC,CAAhB,GAA+D,CAAC,GAAGrC,SAAS,CAACgD,eAAd,EAA+BX,KAA/B,EAAsC,QAAtC,CAAtE;AACD,OAFD;AAIA,WAAKf,QAAL,GAAgBuB,KAAhB;AACA,aAAO,KAAKd,OAAL,CAAac,KAAb,CAAP;AACD;AAbA,GAvBsB,EAqCtB;AACDlD,IAAAA,GAAG,EAAE,OADJ;AAEDX,IAAAA,KAAK,EAAE,SAASiE,KAAT,GAAiB;AACtB,aAAO,KAAKlB,OAAL,GAAe,KAAKA,OAAL,CAAazC,MAA5B,GAAqC,CAA5C;AACD;AAJA,GArCsB,EA0CtB;AACDK,IAAAA,GAAG,EAAE,OADJ;AAEDX,IAAAA,KAAK,EAAE,SAASiD,KAAT,GAAiB;AACtB,UAAIV,SAAS,GAAG,KAAKM,QAAL,CAAcN,SAA9B;AAEA,WAAKD,QAAL,GAAgB,CAAC,CAAjB;;AAEA,aAAOC,SAAS,CAAC2B,SAAjB,EAA4B;AAC1B3B,QAAAA,SAAS,CAAC4B,WAAV,CAAsB5B,SAAS,CAAC2B,SAAhC;AACD;;AAED,OAAC,GAAGlD,SAAS,CAACgD,eAAd,EAA+BzB,SAA/B,EAA0C,QAA1C;AACD;AAZA,GA1CsB,CAAb,CAAZ;;AAyDA,SAAOV,UAAP;AACD,CAhFgB,EAAjB;;AAkFA,IAAIO,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,MAAIgC,KAAK,GAAG,IAAZ;;AAEA,OAAKxB,OAAL,GAAe,YAAY;AACzB,QAAIyB,KAAK,GAAG9C,SAAS,CAACjB,MAAV,GAAmB,CAAnB,IAAwBiB,SAAS,CAAC,CAAD,CAAT,KAAiBQ,SAAzC,GAAqDR,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AAAA,QACIpB,MAAM,GAAGkE,KAAK,CAAClE,MADnB;;AAGA,QAAI8B,WAAW,GAAGmC,KAAK,CAAChE,KAAN,CAAY6B,WAA9B;AACA,QAAIM,SAAS,GAAG6B,KAAK,CAACvB,QAAN,CAAeN,SAA/B;;AAGA,QAAIpC,MAAM,CAACmE,UAAP,KAAsB/B,SAAtB,IAAmC,CAACpC,MAAM,CAACoE,YAAP,CAAoB,UAApB,CAAxC,EAAyE;AACvE;AACD;;AAED,QAAInB,GAAG,GAAGjD,MAAM,CAACqE,YAAP,CAAoB,UAApB,CAAV;AACA,QAAIrB,MAAM,GAAGiB,KAAK,CAACrB,OAAN,CAAcK,GAAd,CAAb;AACAnB,IAAAA,WAAW,CAAC;AAAEkB,MAAAA,MAAM,EAAEA;AAAV,KAAD,CAAX;AACD,GAfD;AAgBD,CAnBD;;AAqBApD,OAAO,CAAC0E,OAAR,GAAkB5C,UAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _domUtils = require('./domUtils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar cx = function cx() {\n  for (var _len = arguments.length, classnames = Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.join(' ').trim();\n};\n\nvar ResultList = function () {\n  function ResultList() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$handleClick = _ref.handleClick,\n        handleClick = _ref$handleClick === undefined ? function () {} : _ref$handleClick,\n        _ref$classNames = _ref.classNames,\n        classNames = _ref$classNames === undefined ? {} : _ref$classNames;\n\n    _classCallCheck(this, ResultList);\n\n    _initialiseProps.call(this);\n\n    this.props = { handleClick: handleClick, classNames: classNames };\n    this.selected = -1;\n\n    var container = (0, _domUtils.createElement)('div', cx('results', classNames.container));\n    var resultItem = (0, _domUtils.createElement)('div', cx(classNames.item));\n\n    container.addEventListener('click', this.onClick, true);\n    this.elements = { container: container, resultItem: resultItem };\n  }\n\n  _createClass(ResultList, [{\n    key: 'render',\n    value: function render() {\n      var results = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var _elements = this.elements,\n          container = _elements.container,\n          resultItem = _elements.resultItem;\n\n      this.clear();\n\n      results.forEach(function (result, idx) {\n        var child = resultItem.cloneNode(true);\n        child.setAttribute('data-key', idx);\n        child.innerHTML = result.label;\n        container.appendChild(child);\n      });\n\n      if (results.length > 0) {\n        (0, _domUtils.addClassName)(container, 'active');\n      }\n\n      this.results = results;\n    }\n  }, {\n    key: 'select',\n    value: function select(index) {\n      var container = this.elements.container;\n\n      // eslint-disable-next-line no-confusing-arrow\n\n      Array.from(container.children).forEach(function (child, idx) {\n        return idx === index ? (0, _domUtils.addClassName)(child, 'active') : (0, _domUtils.removeClassName)(child, 'active');\n      });\n\n      this.selected = index;\n      return this.results[index];\n    }\n  }, {\n    key: 'count',\n    value: function count() {\n      return this.results ? this.results.length : 0;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var container = this.elements.container;\n\n      this.selected = -1;\n\n      while (container.lastChild) {\n        container.removeChild(container.lastChild);\n      }\n\n      (0, _domUtils.removeClassName)(container, 'active');\n    }\n  }]);\n\n  return ResultList;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.onClick = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref2.target;\n\n    var handleClick = _this.props.handleClick;\n    var container = _this.elements.container;\n\n\n    if (target.parentNode !== container || !target.hasAttribute('data-key')) {\n      return;\n    }\n\n    var idx = target.getAttribute('data-key');\n    var result = _this.results[idx];\n    handleClick({ result: result });\n  };\n};\n\nexports.default = ResultList;"]},"metadata":{},"sourceType":"script"}